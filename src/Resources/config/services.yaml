services:
    _defaults:
        autowire: true
        autoconfigure: true
        public: false

    # Регистрируем все из корня src/
    Nevinny\AdminCoreBundle\:
        resource: '../../*'
        exclude:
            - '../../Entity/'
            - '../../Resources/'
            - '../../Tests/'
            - '../../Controller/Admin/FormField/'
            - '../../DependencyInjection/'
            - '../../NevinnyAdminCoreBundle.php'

    # Репозитории
    Nevinny\AdminCoreBundle\Repository\:
        resource: '../../Repository/*'
        tags: ['doctrine.repository_service']

    # Контроллеры
    Nevinny\AdminCoreBundle\Controller\:
        resource: '../../Controller/*'
        exclude: '../../Controller/Admin/FormField/'
        tags: ['controller.service_arguments']